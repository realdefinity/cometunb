/* --- THE GRID CONTAINER --- */
.layout {
    position: absolute; inset: 0; z-index: 10;
    display: flex; 
    padding: 24px; 
    gap: 24px;
    overflow: hidden; /* Contains everything inside window */
    pointer-events: none; /* Let clicks pass through gaps */
}

/* Re-enable pointer events on the actual panels */
.panel-left, .panel-right, .panel-center { pointer-events: auto; }


/* --- SHARED PANEL STYLES --- */
.panel-left, .panel-right {
    display: flex; flex-direction: column;
    
    /* GLASS MATERIAL */
    background: var(--panel-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    border: 1px solid var(--panel-border);
    border-radius: var(--radius);
    
    /* Shadows to lift panels off the grid */
    box-shadow: 0 20px 40px rgba(0,0,0,0.5);
    
    /* Scroll Logic */
    height: 100%; min-height: 0;
}


/* --- LEFT PANEL (Stats & Options) --- */
.panel-left { 
    width: 320px; 
    flex-shrink: 0; 
    padding: 24px; 
    overflow-y: auto; 
}
/* Hide Scrollbar */
.panel-left::-webkit-scrollbar { width: 0px; }


/* --- CENTER PANEL (Button) --- */
.panel-center {
    flex: 1; /* Takes all remaining space */
    height: 100%;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    position: relative; 
    min-width: 0; /* Prevents flex blowout */
}


/* --- RIGHT PANEL (Shop) --- */
.panel-right { 
    width: 440px; 
    flex-shrink: 0; 
    /* No padding here, we pad the children so scrollbar hits edge */
}

.shop-header {
    flex-shrink: 0; 
    padding: 20px 24px;
    border-bottom: 1px solid var(--panel-border);
    background: rgba(255,255,255,0.01);
}

.shop-list {
    flex: 1; /* Fills rest of height */
    overflow-y: auto; 
    padding: 16px;
    
    /* Fade out at bottom */
    mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
}

/* Custom Scrollbar for Shop */
.shop-list::-webkit-scrollbar { width: 5px; }
.shop-list::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
.shop-list::-webkit-scrollbar-track { background: transparent; }


/* --- MOBILE RESPONSIVENESS --- */
/* If screen is narrower than 1100px OR shorter than 700px */
@media (max-width: 1100px), (max-height: 700px) {
    .layout {
        position: relative; /* Unlock inset */
        height: auto; 
        min-height: 100vh;
        flex-direction: column; 
        overflow-y: auto; /* Allow full page scrolling */
        padding: 16px;
        gap: 16px;
        pointer-events: auto;
    }
    
    .panel-left, .panel-right, .panel-center {
        width: 100%; 
        height: auto; 
        min-height: auto; 
        flex: none;
    }
    
    /* MOBILE ORDERING */
    /* 1. Game Button */
    .panel-center { 
        order: 1; 
        height: 50vh; 
        min-height: 400px; 
        margin-bottom: 20px; 
    }
    
    /* 2. Stats */
    .panel-left { 
        order: 2; 
        margin-bottom: 20px; 
    }
    
    /* 3. Shop (Give it fixed height so it scrolls internally) */
    .panel-right { 
        order: 3; 
        height: 600px; 
    }
}