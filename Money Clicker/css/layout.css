/* css/layout.css */

/* --- MAIN CONTAINER (Locks to screen) --- */
.layout { 
    display: flex; 
    width: 100vw; 
    height: 100vh; 
    position: relative; 
    z-index: 10; 
    padding: 20px; 
    gap: 20px;
    overflow: hidden; /* Prevents body scroll */
}

/* --- THE GLASS PANELS --- */
.panel-left, .panel-right {
    background: var(--glass-surface);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    display: flex; 
    flex-direction: column; 
    z-index: 20;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    
    /* RESCALING MAGIC */
    flex-shrink: 0; /* Don't squash me too small */
    max-height: 100%; /* Never go taller than screen */
}

/* Specific Widths (Responsive) */
.panel-left { 
    width: 300px; 
    padding: 24px; 
    overflow-y: auto; /* Allow internal scrolling if screen is tiny */
}

.panel-right { 
    width: 400px; 
    min-width: 320px; /* Don't get unreadable */
}

/* --- CENTER STAGE --- */
.panel-center {
    flex: 1; /* Take all remaining space */
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center;
    position: relative; 
    min-width: 0; /* Flexbox overflow fix */
}

/* --- SCROLLABLE SHOP AREA --- */
/* This was likely pushing content off screen before */
.shop-header {
    padding: 20px 24px;
    border-bottom: 1px solid var(--glass-border);
    background: rgba(255,255,255,0.02);
    flex-shrink: 0; /* Header stays fixed height */
}

.shop-list { 
    flex: 1; /* Fill the rest of the vertical space */
    overflow-y: auto; /* Scroll ONLY inside this box */
    padding: 16px;
    min-height: 0; /* Firefox flex fix */
}

/* Hide scrollbar but keep functionality */
.shop-list::-webkit-scrollbar { width: 4px; }
.shop-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
.shop-list::-webkit-scrollbar-track { background: transparent; }

/* --- RESPONSIVE MEDIA QUERIES --- */
/* If screen is smaller than 1100px, switch to tablet mode */
@media (max-width: 1100px) {
    .layout {
        flex-wrap: wrap; /* Allow stacking */
        overflow-y: auto; /* Allow scrolling entire page on tablets */
        height: auto;
        min-height: 100vh;
    }
    
    .panel-left, .panel-right, .panel-center {
        width: 100%; /* Full width bars */
        flex: none;
        height: auto;
        max-height: none;
    }
    
    .panel-center { order: 1; height: 50vh; } /* Clicker on top */
    .panel-left { order: 2; }   /* Stats middle */
    .panel-right { order: 3; height: 600px; } /* Shop bottom */
}