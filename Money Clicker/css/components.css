/* =========================================
   1. THE MAIN BUTTON (THE ORB)
   ========================================= */
.big-button-container {
    perspective: 1200px; /* Deeper perspective for better 3D tilt */
    width: 100%; height: 100%;
    max-height: 55vh; /* Prevents it from crushing other UI on small screens */
    display: flex; align-items: center; justify-content: center;
    position: relative;
    z-index: 10;
}

.big-button {
    /* Responsive Sizing: Fits any screen perfectly */
    width: 38vmin; height: 38vmin;
    min-width: 260px; min-height: 260px;
    max-width: 450px; max-height: 450px;
    
    border-radius: 50%;
    
    /* MATERIAL: Deep Satin Black */
    background: radial-gradient(circle at 30% 30%, #2a2a2a 0%, #050505 60%, #000 100%);
    
    /* RIM LIGHT & SHADOWS (The Physical Look) */
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
        0 30px 60px rgba(0,0,0,0.8),          /* Drop Shadow */
        inset 0 10px 30px rgba(255,255,255,0.1), /* Top Reflection */
        inset 0 -20px 40px rgba(0,0,0,1.0),   /* Bottom Depth */
        0 0 0 2px rgba(0,0,0,0.5);            /* Outer Ring */
        
    cursor: pointer; 
    position: relative;
    display: flex; align-items: center; justify-content: center;
    
    /* ANIMATION SMOOTHING */
    transition: box-shadow 0.2s, border-color 0.2s, transform 0.08s linear;
    transform-style: preserve-3d; /* Critical for the JS tilt */
    will-change: transform; /* optimizing performance */
    touch-action: manipulation;
}

/* The Symbol ($) */
.big-button::before { 
    content: '$'; 
    font-family: 'Outfit', sans-serif; 
    font-weight: 800; 
    font-size: 14vmin; 
    color: rgba(255,255,255,0.08); 
    text-shadow: 0 2px 5px rgba(0,0,0,0.5);
    transition: all 0.2s;
    transform: translateZ(20px); /* Pushes text physically forward */
    pointer-events: none;
}

/* Spinner Ring (Subtle) */
.big-button::after {
    content: ''; position: absolute; inset: -5px;
    border-radius: 50%;
    border: 2px solid transparent;
    border-top-color: rgba(255,255,255,0.1);
    border-left-color: rgba(255,255,255,0.05);
    animation: spin-slow 15s linear infinite;
    pointer-events: none;
}

@keyframes spin-slow { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* HOVER STATE */
.big-button:hover { 
    border-color: rgba(255,255,255,0.2); 
    box-shadow: 
        0 50px 100px rgba(0,0,0,0.6), 
        inset 0 10px 30px rgba(255,255,255,0.15),
        0 0 0 4px rgba(255,255,255,0.05);
}
.big-button:hover::before { 
    color: var(--green); 
    text-shadow: 0 0 40px var(--green-glow); 
}

/* MANIA MODE (Active State) */
body.mania-mode .big-button {
    border-color: var(--purple);
    box-shadow: 0 0 60px var(--purple-glow), inset 0 0 40px rgba(168, 85, 247, 0.2);
    animation: mania-pulse 0.5s infinite alternate ease-in-out;
}
@keyframes mania-pulse { 
    from { transform: scale(1); } 
    to { transform: scale(1.03); } 
}


/* =========================================
   2. EVENTS & PARTICLES
   ========================================= */
/* GOLDEN BILL */
.golden-bill {
    position: absolute; width: 130px; height: 75px;
    background: linear-gradient(135deg, #ffd700 10%, #fff 50%, #b8860b 90%);
    border: 2px solid #fff; border-radius: 8px;
    box-shadow: 0 0 50px var(--gold), 0 10px 20px rgba(0,0,0,0.5);
    cursor: pointer; pointer-events: auto;
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; color: #5c4000; font-size: 30px;
    z-index: 9999;
    animation: float-bill 2s infinite ease-in-out;
    transition: transform 0.1s;
}
.golden-bill::after { content: '$$$'; }
.golden-bill:hover { transform: scale(1.1) rotate(-5deg); filter: brightness(1.1); }
.golden-bill:active { transform: scale(0.95); }

/* NEWS TICKER */
.news-bar {
    position: absolute; bottom: 30px; 
    width: 90%; max-width: 600px; height: 36px; 
    background: rgba(0,0,0,0.6); 
    border: 1px solid var(--glass-border);
    border-radius: 50px; 
    overflow: hidden; display: flex; align-items: center; 
    backdrop-filter: blur(12px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    pointer-events: auto;
}
.news-content {
    white-space: nowrap; padding-left: 100%;
    font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: #aaa;
    animation: ticker 25s linear infinite;
    display: flex; align-items: center;
}
@keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-200%); } }

/* MANIA TEXT */
#mania-text {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1rem; letter-spacing: 2px;
    margin-top: 40px; pointer-events: none;
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    opacity: 0.5;
}


/* =========================================
   3. SHOP ITEMS (UPGRADES)
   ========================================= */
.upgrade {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.05);
    padding: 16px 20px; 
    margin-bottom: 12px;
    border-radius: 16px;
    cursor: pointer;
    display: flex; justify-content: space-between; align-items: center;
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative; overflow: hidden;
}

/* Hover Effect */
.upgrade:hover { 
    background: rgba(255,255,255,0.05); 
    transform: translateX(4px); 
    border-color: rgba(255,255,255,0.1); 
}

/* States */
.upgrade.locked { opacity: 0.2; filter: grayscale(1); pointer-events: none; }
.upgrade.affordable { 
    border-left: 3px solid var(--green); 
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.05) 0%, transparent 100%);
}
.upgrade.affordable-max { 
    border-left: 3px solid var(--gold); 
    background: linear-gradient(90deg, rgba(251, 191, 36, 0.05) 0%, transparent 100%);
}

/* Upgrade Typography */
.upg-info h4 { font-size: 0.9rem; font-weight: 700; margin-bottom: 4px; color: #fff; letter-spacing: 0.5px; }
.upg-info p { font-size: 0.75rem; color: var(--text-dim); display: flex; gap: 8px; font-family: 'JetBrains Mono', monospace; }
.rate-boost { color: var(--green); font-weight: 700; }

.upg-cost { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
.cost-text { font-size: 0.8rem; font-weight: 700; color: #ccc; font-family: 'JetBrains Mono', monospace; }

.count-badge { 
    background: #000; border: 1px solid rgba(255,255,255,0.1); 
    padding: 2px 8px; border-radius: 6px; 
    font-size: 0.7rem; font-weight: 700; color: #fff; 
    min-width: 32px; text-align: center; 
}


/* =========================================
   4. STATS & UI DASHBOARD
   ========================================= */
/* Main Balance */
.balance { 
    font-size: 3.2rem; font-weight: 800; color: #fff; margin-bottom: 24px; 
    letter-spacing: -1.5px;
    background: linear-gradient(180deg, #fff 20%, #94a3b8 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 4px 10px rgba(0,0,0,0.5));
}
.balance.pulse { animation: money-pulse 0.2s ease-out; }
@keyframes money-pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); filter: brightness(1.2); } 100% { transform: scale(1); } }

/* Section Headers */
.header-title { 
    font-size: 0.7rem; color: var(--text-dim); font-weight: 800; 
    letter-spacing: 1.5px; text-transform: uppercase; margin-bottom: 10px; 
}

/* Prestige Panel */
.prestige-container { 
    background: rgba(255,255,255,0.02); 
    border: 1px solid var(--glass-border); 
    padding: 20px; border-radius: 16px; margin-bottom: 24px; 
    position: relative;
}
.prestige-rank { color: var(--purple); font-weight: 900; font-size: 1.1rem; margin-bottom: 6px; letter-spacing: 1px; }
.prestige-sub { font-size: 0.75rem; display: flex; gap: 10px; color: var(--text-dim); align-items: center; }
.prestige-pill { 
    background: rgba(217, 70, 239, 0.1); border: 1px solid rgba(217, 70, 239, 0.3);
    padding: 2px 8px; border-radius: 12px; color: #fff; font-weight: 600; 
}

/* Progress Bars */
.next-rank-bar { width: 100%; height: 6px; background: rgba(0,0,0,0.5); border-radius: 10px; margin-top: 12px; overflow: hidden; }
.next-rank-fill { height: 100%; background: var(--purple); box-shadow: 0 0 15px var(--purple); transition: width 0.5s; }
.next-rank-text { font-size: 0.65rem; color: #555; text-align: right; margin-top: 6px; font-family: 'JetBrains Mono', monospace; }

/* Rate Display */
.rate-display {
    display: flex; justify-content: space-between; padding: 16px;
    background: rgba(16, 185, 129, 0.05); border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 14px; margin-bottom: 24px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;
}
.rate-display span:last-child { color: var(--green); font-weight: 700; text-shadow: 0 0 10px var(--green-glow); }

/* Hype Bar */
.hype-container { margin-top: auto; }
.hype-label { display: flex; justify-content: space-between; font-size: 0.7rem; color: var(--text-dim); margin-bottom: 8px; font-weight: 700; }
.hype-track { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; }
.hype-fill { height: 100%; background: linear-gradient(90deg, #3b82f6, #06b6d4); width: 0%; box-shadow: 0 0 10px #06b6d4; transition: width 0.1s; }


/* =========================================
   5. CONTROLS & BUTTONS
   ========================================= */
.options-area { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }

.opt-btn { 
    background: rgba(255,255,255,0.04); border: 1px solid transparent;
    color: var(--text-dim); padding: 14px; border-radius: 12px; 
    font-weight: 700; font-size: 0.75rem; letter-spacing: 0.5px;
    cursor: pointer; transition: 0.2s; 
}
.opt-btn:hover { background: rgba(255,255,255,0.08); color: #fff; border-color: rgba(255,255,255,0.1); }
.opt-btn:active { transform: scale(0.98); }

/* Prestige Button Specifics */
.prestige-btn { border-color: rgba(217, 70, 239, 0.2); color: #e879f9; background: rgba(217, 70, 239, 0.05); }
.prestige-btn.ready { background: var(--purple); color: #fff; box-shadow: 0 0 20px var(--purple-glow); border-color: transparent; }
.prestige-btn.ready:hover { box-shadow: 0 0 40px var(--purple-glow); transform: scale(1.02); }

/* Buy Amount Toggles */
.buy-controls { display: flex; gap: 4px; background: rgba(0,0,0,0.3); padding: 4px; border-radius: 12px; border: 1px solid var(--glass-border); }
.buy-amt { 
    flex: 1; background: transparent; border: none; color: #666; padding: 6px; 
    font-weight: 700; font-size: 0.75rem; cursor: pointer; border-radius: 8px; transition: 0.2s; 
}
.buy-amt:hover { color: #fff; }
.buy-amt.active { background: rgba(255,255,255,0.15); color: #fff; }
.buy-amt.active-max { background: var(--gold); color: #000; box-shadow: 0 0 15px rgba(251, 191, 36, 0.3); }

/* Mute Button */
.mute-btn { 
    position: fixed; top: 20px; left: 20px; 
    font-size: 20px; color: rgba(255,255,255,0.2); cursor: pointer; z-index: 200; 
    transition: 0.2s; 
}
.mute-btn:hover { color: #fff; transform: scale(1.1); }
.mute-btn.active { color: var(--green); text-shadow: 0 0 15px var(--green); }


/* =========================================
   6. MODALS
   ========================================= */
.modal { 
    display: none; position: fixed; inset: 0; z-index: 9999; 
    background: rgba(0,0,0,0.85); backdrop-filter: blur(15px); 
    align-items: center; justify-content: center; 
    opacity: 0; transition: opacity 0.3s; 
}
.modal.open { opacity: 1; }

.modal-content { 
    background: #050505; border: 1px solid rgba(255,255,255,0.1); 
    padding: 40px; width: 90%; max-width: 480px; border-radius: 24px; 
    text-align: center; position: relative;
    box-shadow: 0 40px 100px rgba(0,0,0,0.9); 
    transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); 
}
.modal.open .modal-content { transform: scale(1); }

.close-modal { 
    position: absolute; top: 20px; right: 20px; 
    font-size: 24px; color: #444; cursor: pointer; transition: 0.2s;
}
.close-modal:hover { color: #fff; }

.prestige-val { font-size: 3rem; color: var(--purple); font-weight: 900; margin: 20px 0; text-shadow: 0 0 30px var(--purple-glow); line-height: 1; }

.save-textarea { 
    width: 100%; height: 120px; 
    background: #000; border: 1px solid #333; 
    color: var(--green); padding: 14px; 
    border-radius: 12px; margin: 20px 0; 
    resize: none; font-family: monospace; font-size: 0.8rem;
}
.save-textarea:focus { border-color: var(--green); }